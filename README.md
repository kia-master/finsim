# Financial Market Simulator

## Описание

Проект представляет собой симулятор финансового рынка, включая операции покупки и продажи активов и управление портфелем.

## Классы

1. **Инициализация AssetPrice**: Создание `Enum` для хранения начальных цен активов.

2. **Класс Asset**: Модификация класса для поддержки динамической цены актива. 

3. **Класс Transaction**: Он останется практически неизменным, за исключением того, что теперь цена будет подтягиваться из `Asset`.

4. **Класс Portfolio**: Добавление методов для покупки и продажи активов, а также для расчета текущей стоимости портфеля.

5. **Класс MarketSimulator**: Класс, который будет использовать все вышеуказанные классы для создания полной симуляции.

## Структура проекта

- `main.py`: Основной файл, содержащий все классы для симуляции.
- `run_simulator.py`: Файл для запуска симуляции.
- `test_market_simulator.py`: Файл с unit-тестами для `pytest`.

## Требования

- Python 3.6+

## Установка и настройка

1. Скачайте архив проекта и распакуйте его в выбранную директорию.
2. Откройте терминал и перейдите в директорию проекта.
3. Создайте виртуальное окружение:
    Для macOS и Linux:
    ```
    python3 -m venv venv
    ```
4. Активируйте виртуальное окружение:
    Для macOS и Linux:
    ```
    source venv/bin/activate
5. Установите зависимости:
    ```
    pip install -r requirements.txt
    ```

## Запуск симуляции

Запустите симуляцию, выполнив следующую команду:
    ```
    python run_simulator.py
    ```

## Запуск тестов

Запустите unit-тесты:
    ```
    pytest test_market_simulator.py
    ```

## Функция `run_market_simulation()`

#### Описание
Функция `run_market_simulation()` служит точкой входа для запуска симулированной торговой среды. Она объединяет различные компоненты, такие как активы, транзакции и управление портфелем, для имитации покупки и продажи акций на основе случайных событий и волатильности цены. Симуляция проводится в раундах, на каждом из которых выводятся актуальные данные по активам и портфелю.

#### Функциональность

1. **Инициализация**: Запускает симулятор и инициализирует активы (LKOH и SBER).
  
2. **Раунды**: В каждом раунде:
    - Симулируется изменение цены активов.
    - Принимается решение о покупке или продаже.
    - Выполняются транзакции (покупка/продажа).
    - Выводятся актуальные данные.

3. **Обработка ошибок**: Включает блок try-except для перехвата возможных ошибок.

4. **Завершение**: Выводится сообщение о завершении симуляции.

#### Вывод
Выводятся номер текущего раунда, новые симулированные цены активов, выполненные транзакции и текущая стоимость портфеля. По завершении всех раундов выводится сообщение о завершении симуляции.

#### Пример использования
```plaintext
Starting Market Simulation...
Market Simulator initialized.
Assets initialized. LKOH: 5896, SBER: 250

--- Round 1 ---
Prices after simulation. LKOH: 5909.56, SBER: 253.86
Executed transactions. Sold 1 of LKOH and Bought 2 of SBER.
Current Portfolio Value: 6417.28
...
--- Round 10 ---
Prices after simulation. LKOH: 6590.82, SBER: 240.64
Executed transactions. Sold 1 of LKOH and Sold 2 of SBER.
Current Portfolio Value: 70382.48
Market Simulation complete.
```
